<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬33å›å®šæ¼” é€²è¡Œç®¡ç† Pro</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #F9FAFB;
            -webkit-tap-highlight-color: transparent;
            padding-bottom: 80px;
            /* For bottom nav */
        }

        .safe-area-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }

        .active-tab {
            color: #1E3A8A;
        }

        .active-tab svg {
            stroke: #1E3A8A;
        }

        .glass {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
        }

        /* Checkbox custom style */
        .task-checked {
            opacity: 0.5;
            text-decoration: line-through;
        }

        /* Pulse for "Now" task */
        .current-task {
            border: 2px solid #1E3A8A;
            box-shadow: 0 0 10px rgba(30, 58, 138, 0.2);
            animation: pulse-border 2s infinite;
        }

        @keyframes pulse-border {
            0% {
                border-color: #1E3A8A;
            }

            50% {
                border-color: #3B82F6;
            }

            100% {
                border-color: #1E3A8A;
            }
        }
    </style>
</head>

<body class="antialiased">

    <header class="glass sticky top-0 z-40 border-b border-gray-200 px-4 py-3 flex justify-between items-center">
        <div>
            <h1 class="text-sm font-bold text-gray-900">ç¬¬33å›å®šæœŸæ¼”å¥ä¼š</h1>
            <p class="text-[10px] text-red-600 font-semibold">2026/03/26 éŒå€‰èŠ¸è¡“é¤¨</p>
        </div>
        <button onclick="scrollToCurrent()"
            class="bg-blue-900 text-white text-[10px] px-3 py-1.5 rounded-full flex items-center gap-1 shadow-sm">
            <i data-lucide="clock" class="w-3 h-3"></i> ä»Šã®ã‚¿ã‚¹ã‚¯
        </button>
    </header>

    <main id="app-content" class="max-w-md mx-auto p-4 space-y-6">
    </main>

    <nav class="fixed bottom-0 left-0 right-0 glass border-t border-gray-200 z-50 safe-area-bottom">
        <div class="flex justify-around items-center py-2">
            <button onclick="switchTab('timeline')" id="tab-timeline"
                class="flex flex-col items-center gap-1 text-gray-400 active-tab">
                <i data-lucide="calendar" class="w-5 h-5"></i>
                <span class="text-[9px] font-medium">ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</span>
            </button>
            <button onclick="switchTab('staff')" id="tab-staff" class="flex flex-col items-center gap-1 text-gray-400">
                <i data-lucide="users" class="w-5 h-5"></i>
                <span class="text-[9px] font-medium">ã‚¹ã‚¿ãƒƒãƒ•</span>
            </button>
            <button onclick="switchTab('manual')" id="tab-manual"
                class="flex flex-col items-center gap-1 text-gray-400">
                <i data-lucide="book-open" class="w-5 h-5"></i>
                <span class="text-[9px] font-medium">ãƒãƒ‹ãƒ¥ã‚¢ãƒ«</span>
            </button>
            <button onclick="downloadCode()" class="flex flex-col items-center gap-1 text-gray-400">
                <i data-lucide="download" class="w-5 h-5"></i>
                <span class="text-[9px] font-medium">ä¿å­˜</span>
            </button>
        </div>
    </nav>

    <script>
        // --- DATA ---
        const staffData = {
            protection: [
                { role: "æœ¬éƒ¨ãƒ»æ¥å¾…", leader: "â—ç´°è¶Š", sub: "æˆ¸æ‘(2)", members: "é‡‘å­(1)" },
                { role: "ä¼šè¨ˆ", leader: "â—äº•å£", sub: "æ¨ªå±±(2)", members: "æ·ºå·(1)" },
                { role: "å—ä»˜(P)", leader: "â—çŸ¢ä½œ(2)", sub: "â—æ·ºå·(2)", members: "ç‰§é‡, å°åŸ, ä½è—¤, åŸç”°, æ¸¡é‚Š(1)" },
                { role: "ä¼šå ´", leader: "â—é–¢é‡", sub: "ä¸­å´(2)", members: "é•·è°·å·(2), å¤§å£å†…(1)" }
            ],
            obog: [
                { role: "ã‚¹ãƒ†ãƒãƒãƒ»ã‚µãƒ–", members: "å»£é‡ã•ã‚“, æ–‰è—¤ç‘ é‚£ã•ã‚“", time: "09:00ã€œ" },
                { role: "ã‚¹ãƒ†ãƒ¼ã‚¸ä¿‚", members: "å°å³°ä¼¯å², æ¸…æ°´æ—¥è‘µ, æ¸¡é‚Šé¦™é‡Œå¥ˆ, åŠ›ä¸¸ä¹…ä¹ƒ, èŠæœ¬ä¸‡è–", time: "09:00ã€œ" },
                { role: "å—ä»˜(16æ™‚ã€œ)", members: "è’è°·å¤ç¾, å°åŸäº¬é¦™, é«˜æ©‹ç¾è¡£, æœ¨æ‘è‹±é‡Œé¦™", time: "16:00ã€œ" },
                { role: "ãƒ‰ã‚¢ãƒãƒ³(16æ™‚ã€œ)", members: "çŒªé‡ç”°æ¶¼å¥ˆ, æ°´é‡è°·ç¾š, çŸ¥ä¹…æ¥“, å°å³°æ˜å­£", time: "16:00ã€œ" },
                { role: "å ´å†…(16æ™‚ã€œ)", members: "ä¸­é£¯ä¿Šä¹‹ä»‹, é¢¨é–“ç‘›ä», è”µä¸‹ã®ã®ã‹, æ²–æ„›å®Ÿ", time: "16:00ã€œ" },
                { role: "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ(16æ™‚ã€œ)", members: "å°æ—çœŸç·’, æµ¦å·é¢¯ç”Ÿ, é•·è°·å·è‹ºé¦™", time: "16:00ã€œ" },
                { role: "æ¥½å™¨é‹æ¬(å¤œ)", members: "è¨ˆ15å", time: "20:30ã€œ" }
            ]
        };

        const schedule = [
            { time: "09:00", event: "ä¼šå ´å…¥ã‚Šãƒ»æœ¬éƒ¨é›†åˆ", tasks: ["æ¥½å±‹ã®å†™çœŸã‚’æ’®ã‚‹ï¼ˆåŸçŠ¶å¾©å¸°ç”¨è³‡æ–™ï¼‰ğŸ“¸", "ãƒãƒ¼ãƒ ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ»ã‚¹ã‚¿ãƒƒãƒ•ã‚«ãƒ¼ãƒ‰é…å¸ƒ", "é§è»Šåˆ¸æ¸¡ã—ï¼ˆæ¥­è€…:ã‚´ã‚¤ã‚¹ãƒ»é«˜å“ãƒ»å‰å²¡ã•ã‚“ï¼‰"], tags: ["æœ¬éƒ¨", "æ¥å¾…"] },
            { time: "10:30", event: "ãƒªãƒãƒ¼ã‚µãƒ«é–‹å§‹", tasks: ["æ¥­è€…æ”¯æ‰•ã„ï¼ˆå‰å²¡ã•ã‚“ï¼‰ğŸ’°", "æ§å®¤ã«ãŠè“å­ãƒ»é£²ã¿ç‰©ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°"], tags: ["ä¼šè¨ˆ", "æœ¬éƒ¨"] },
            { time: "12:00", event: "å½¹å“¡ãƒ»ã‚¹ã‚¿ãƒƒãƒ•æ˜¼é£Ÿ", tasks: ["ãƒ›ãƒ¯ã‚¤ã‚¨ï¼ˆãƒ­ãƒ“ãƒ¼ï¼‰ã®å†™çœŸã‚’æ’®ã‚‹ğŸ“¸", "å—ä»˜ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¨­å–¶ï¼ˆæ¥è³“ãƒ»ä¸€èˆ¬ãƒ»å›åãƒ»å½“æ—¥åˆ¸ï¼‰"], tags: ["å—ä»˜", "ä¼šå ´"] },
            { time: "13:00", event: "åˆå¾Œãƒªãƒãƒ¼ã‚µãƒ«é–‹å§‹", tasks: ["ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆå·®å‡ºäººã‚«ãƒ¼ãƒ‰ãƒ»æ¡ˆå†…æ¿æº–å‚™"], tags: ["å—ä»˜"] },
            { time: "15:00", event: "å…¨ä½“æŒ¨æ‹¶ãƒ»ä½œæ¥­èª¬æ˜", tasks: ["OBOGé›†åˆãƒ»å‡ºæ¬ ç¢ºèª", "å„ä¿‚ã®ä½œæ¥­åˆ†æ‹…ãƒ»èª¬æ˜ï¼ˆãƒ›ãƒ¯ã‚¤ã‚¨ï¼‰"], tags: ["å…¨å“¡"] },
            { time: "15:30", event: "3å¹´ç”Ÿä¿è­·è€…ãƒ»å®¶æ—å…¥å ´", tasks: ["ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŠæ¸¡ã—é–‹å§‹"], tags: ["å—ä»˜"] },
            { time: "16:15", event: "æ¥è³“ãƒ»ä¸€èˆ¬é–‹å ´", tasks: ["æ¥è³“åç°¿è¨˜å…¥ã€ã”ç¥å„€ãƒ»å·®ã—å…¥ã‚Œé ã‹ã‚Š", "å½“æ—¥åˆ¸ã®åå‰è¨˜å…¥ãƒ»ç®¡ç†"], tags: ["å—ä»˜", "ä¼šè¨ˆ"] },
            { time: "16:55", event: "1ãƒ™ãƒ«ï¼ˆé–‹æ¼”5åˆ†å‰ï¼‰", tasks: ["æ¥è³“å¸­ã®é–‹æ”¾åˆ¤æ–­", "ãƒ‰ã‚¢ãƒãƒ³é…ç½®ã€å…¥å ´è¦åˆ¶é–‹å§‹"], tags: ["ä¼šå ´", "OBOG"] },
            { time: "17:00", event: "ç¬¬1éƒ¨ é–‹æ¼”", tasks: ["ã€ä¼šè¨ˆã€‘ã”ç¥å„€ã‚’å›åãƒ»æœ¬éƒ¨ã¸ç§»å‹•ï¼ˆå—ä»˜ã«æ®‹ã•ãªã„ï¼‰ğŸš¨", "é›»å ±ãƒªã‚¹ãƒˆã‚’å¸ä¼šã¸"], tags: ["ä¼šè¨ˆ", "æœ¬éƒ¨"] },
            { time: "19:00", event: "çµ‚æ¼”ãƒ»è¦‹é€ã‚Š", tasks: ["3å¹´ç”Ÿã«ã‚ˆã‚‹è¦‹é€ã‚Šè£œåŠ©", "ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆå›åãƒ»ãƒœãƒƒã‚¯ã‚¹è¨­ç½®", "ä¼šå ´äº‹å‹™æ‰€ã‹ã‚‰ã®é›»è©±å¯¾å¿œï¼ˆæ”¯æ‰•ã„é€£çµ¡ï¼‰"], tags: ["å…¨å“¡"] },
            { time: "20:30", event: "ç‰‡ä»˜ã‘ãƒ»ç©ã¿è¾¼ã¿", tasks: ["1-2å¹´ç”Ÿæ¥½å™¨ç‰‡ä»˜ã‘", "OBOG15åã¨åˆæµã—ã¦é‹æ¬è£œåŠ©", "ã™ã¹ã¦åŸçŠ¶å¾©å¸°ã«ã¦è¿”å´ãƒ»å¿˜ã‚Œç‰©ç‚¹æ¤œ"], tags: ["å…¨å“¡", "é‹æ¬"] },
            { time: "21:30", event: "å®Œå…¨æ’¤åãƒ»è§£æ•£", tasks: ["æ¥½å±‹å…¥å£ã«é›†åˆãƒ»è§£æ•£", "â€»å¾…ã¡åˆã‚ã›ã¯èŠ¸è¡“é¤¨å…¥å£å‰"], tags: ["å…¨å“¡"] }
        ];

        // --- APP LOGIC ---
        function switchTab(tab) {
            document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('active-tab'));
            document.getElementById(`tab-${tab}`).classList.add('active-tab');
            render(tab);
        }

        function toggleTask(id) {
            const checked = localStorage.getItem(id) === 'true';
            localStorage.setItem(id, !checked);
            render('timeline');
        }

        function openCamera() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.capture = 'environment';
            input.click();
        }

        function render(tab) {
            const container = document.getElementById('app-content');
            container.innerHTML = '';

            if (tab === 'timeline') {
                schedule.forEach((item, idx) => {
                    const taskHtml = item.tasks.map((task, tIdx) => {
                        const id = `task-${idx}-${tIdx}`;
                        const checked = localStorage.getItem(id) === 'true';
                        const isPhoto = task.includes('ğŸ“¸');
                        return `
                            <div class="flex items-start gap-3 py-2 ${checked ? 'task-checked' : ''}" onclick="${isPhoto ? 'openCamera()' : `toggleTask('${id}')`}">
                                <div class="mt-0.5 w-4 h-4 border-2 border-blue-900 rounded flex items-center justify-center">
                                    ${checked ? '<i data-lucide="check" class="w-3 h-3 text-blue-900"></i>' : ''}
                                </div>
                                <p class="text-[11px] text-gray-700 leading-snug">${task}</p>
                            </div>
                        `;
                    }).join('');

                    container.innerHTML += `
                        <div id="time-${item.time.replace(':', '')}" class="bg-white rounded-2xl shadow-sm border border-gray-100 p-4 timeline-card">
                            <div class="flex items-baseline justify-between mb-2">
                                <span class="text-lg font-bold text-blue-900">${item.time}</span>
                                <span class="text-[10px] font-bold bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full uppercase">${item.event}</span>
                            </div>
                            <div class="divide-y divide-gray-50">${taskHtml}</div>
                            <div class="mt-2 flex gap-1">
                                ${item.tags.map(t => `<span class="text-[8px] bg-blue-50 text-blue-700 px-2 py-0.5 rounded">${t}</span>`).join('')}
                            </div>
                        </div>
                    `;
                });
            } else if (tab === 'staff') {
                let html = '<h2 class="text-sm font-bold text-gray-900 mb-4">ä¿è­·è€…ã‚¹ã‚¿ãƒƒãƒ•åç°¿ [cite: 4]</h2>';
                staffData.protection.forEach(s => {
                    html += `
                        <div class="bg-white p-3 rounded-xl border border-gray-100 mb-2 shadow-sm">
                            <div class="flex justify-between font-bold text-xs text-blue-900 mb-1">
                                <span>${s.role}</span>
                                <span>${s.leader}</span>
                            </div>
                            <div class="text-[10px] text-gray-500">ãƒ¡ãƒ³ãƒãƒ¼: ${s.members}</div>
                        </div>
                    `;
                });
                html += '<h2 class="text-sm font-bold text-gray-900 mt-6 mb-4">OBOGã‚¹ã‚¿ãƒƒãƒ•åç°¿</h2>';
                staffData.obog.forEach(s => {
                    html += `
                        <div class="bg-blue-50 p-3 rounded-xl border border-blue-100 mb-2">
                            <div class="flex justify-between font-bold text-xs text-blue-800 mb-1">
                                <span>${s.role}</span>
                                <span>${s.time}</span>
                            </div>
                            <div class="text-[10px] text-blue-600">${s.members}</div>
                        </div>
                    `;
                });
                container.innerHTML = html;
            } else if (tab === 'manual') {
                container.innerHTML = `
                    <div class="space-y-4">
                        <div class="bg-orange-50 border-l-4 border-orange-400 p-4 rounded-r-xl">
                            <h3 class="text-xs font-bold text-orange-800 mb-1 flex items-center gap-1">
                                <i data-lucide="alert-circle" class="w-3 h-3"></i> æœ€é‡è¦ï¼šåŸçŠ¶å¾©å¸° [cite: 9, 119, 126]
                            </h3>
                            <p class="text-[10px] text-orange-700 leading-relaxed">å…¨ã¦ã®å‚™å“ã‚’å†™çœŸè³‡æ–™ã‚’å…ƒã«å®Œå…¨ã«å…ƒé€šã‚Šã«æˆ»ã—ã¾ã™ã€‚ã‚´ãƒŸã¯å„è‡ªã§æŒã¡å¸°ã‚‰ãšã€æŒ‡ç¤ºã«å¾“ã„é›†ç´„ã—ã¦ãã ã•ã„ã€‚</p>
                        </div>
                        <div class="bg-white p-4 rounded-2xl shadow-sm border border-gray-100">
                            <h3 class="text-xs font-bold text-blue-900 mb-2">ãƒã‚±ãƒƒãƒˆãƒ»èª˜å°ãƒ«ãƒ¼ãƒ« [cite: 25, 67, 70]</h3>
                            <ul class="text-[10px] text-gray-600 space-y-2 list-disc pl-4">
                                <li><strong>å„ªå…ˆé †ä½:</strong> â‘ æ¥è³“(ç·‘) â‘¡ä¸€èˆ¬(é»„) â‘¢å°å­¦æ ¡(ãƒ”ãƒ³ã‚¯)</li>
                                <li><strong>15:30:</strong> 3å¹´ç”Ÿä¿è­·è€…å…ˆè¡Œå…¥å ´é–‹å§‹ã€‚</li>
                                <li><strong>é–‹æ¼”5åˆ†å‰:</strong> æ¥è³“å¸­ãŒç©ºã„ã¦ã„ã‚‹å ´åˆã€ä¸€èˆ¬é–‹æ”¾ã‚’æ¤œè¨ã€‚</li>
                            </ul>
                        </div>
                    </div>
                `;
            }
            lucide.createIcons();
        }

        function scrollToCurrent() {
            const now = new Date();
            const currentTime = now.getHours() * 100 + now.getMinutes();
            let targetId = '';

            // Find closest upcoming task
            for (let item of schedule) {
                const itemTime = parseInt(item.time.replace(':', ''));
                if (itemTime >= currentTime - 30) { // Show 30m buffer
                    targetId = `time-${item.time.replace(':', '')}`;
                    break;
                }
            }

            if (targetId) {
                switchTab('timeline');
                setTimeout(() => {
                    const el = document.getElementById(targetId);
                    if (el) {
                        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        el.classList.add('current-task');
                        setTimeout(() => el.classList.remove('current-task'), 5000);
                    }
                }, 100);
            }
        }

        function downloadCode() {
            const blob = new Blob([document.documentElement.outerHTML], { type: 'text/html' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'concert-app-pro.html';
            a.click();
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            render('timeline');
            lucide.createIcons();
        });
    </script>
</body>

</html>